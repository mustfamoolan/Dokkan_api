الموبايل = للمشتركين (الزبائن) فقط، ويتعاملون ويا API فقط.
الويب = لوحة إدارة للـ Admin فقط (إدارة المشتركين والمنصة).
ماكو “Merchant Web Panel” نهائياً.

هاي خطة كاملة + توضيح جاهز تنطيه للفايب كودينك.

التوضيح الحاسم (اكتبه حرفياً لهم)

لا يوجد Web Panel للمشترك.

المشترك يستخدم تطبيق موبايل فقط.

الموبايل يتصل بـ API.

الويب موجود فقط لـ Admin لإدارة: المشتركين + الاشتراكات + الدفعات + الدعم + الأجهزة + المزامنة.

بيانات كل مشترك معزولة بالكامل (Tenant Isolation) ولا يمكن لأي مشترك رؤية بيانات غيره.

1) مكونات النظام (Modules)
A) Dokkan Mobile App (للمشترك)

واجهات الموبايل كلها: داشبورد، بيع، فواتير، زبائن، ديون، أقساط، مخزون، صندوق، تقارير، إعدادات

لا يوجد ويب للمشترك

B) Dokkan API (Backend)

Authentication

Subscription check

CRUD لكل كيانات المحل

Sync offline/online

Audit logs (اختياري)

C) Dokkan Admin Web Panel (للإدارة فقط)

إدارة المشتركين

إدارة الاشتراك الشهري (خطة واحدة)

إدارة الدفعات

إدارة الأجهزة والمزامنة

الدعم الفني

إعدادات المنصة

2) خطة API للمشتركين (Mobile API)
2.1 حساب المستخدم (المشترك)
تسجيل/دخول

تسجيل برقم هاتف + كلمة مرور (الهاتف إلزامي)

تسجيل Google/Firebase (اختياري) لكن الهاتف يبقى إلزامي

تفعيل رقم الهاتف OTP (اختياري حسب قرارك)

ملف الحساب

الاسم

رقم الهاتف

حالة الاشتراك + تاريخ الانتهاء

تسجيل خروج

2.2 الاشتراك (خطة واحدة شهرية)

الموبايل يعرض فقط:

حالة الاشتراك

تاريخ الانتهاء

زر “تجديد الاشتراك”

سجل مدفوعاته هو فقط

التسعير وتغيير السياسة يتم من لوحة الأدمن فقط.

2.3 إدارة المحل (كلها مرتبطة بمشترك واحد)

كيانات الـ API للموبايل:

المنتجات والمخزون

الزبائن

الفواتير + عناصرها

الديون + الدفعات

الأقساط + الدفعات (الدفع الذكي)

الصندوق + المصروفات

التقارير

التنبيهات

2.4 المزامنة Offline/Online

رفع التغييرات (Push)

تنزيل تحديثات السيرفر (Pull)

حل التعارض بأبسط قاعدة (آخر تحديث يفوز) مع استثناء الدفعات (تكون إضافة فقط)

2.5 قواعد اشتراك مهمة

إذا الاشتراك منتهي:

يسمح بالعرض

يمنع الإضافة/التعديل (أو يمنع البيع فقط حسب قرارك)

لازم فحص الاشتراك يتم في كل عملية مهمة (بيع/دفعة/إضافة منتج…)

3) خطة لوحة الأدمن (Admin Web Panel فقط)
3.1 Admin Login

دخول للأدمن فقط

صلاحيات (Super Admin / Support / Finance)

3.2 Admin Dashboard

عدد المشتركين الكلي

فعّال / منتهي

الاشتراكات الجديدة

الإيرادات الشهرية

مشاكل مزامنة عالية

تذاكر الدعم المفتوحة

3.3 إدارة المشتركين (Users)

صفحة قائمة المشتركين:

الاسم

الهاتف

تاريخ التسجيل

حالة الاشتراك + تاريخ الانتهاء

آخر مزامنة

عدد الأجهزة

إجراءات الأدمن:

تفعيل/تعطيل حساب

تمديد اشتراك يدوي

إعادة تعيين كلمة مرور

قفل/فتح جهاز

مشاهدة سجل نشاط

3.4 الاشتراكات (خطة واحدة)

تحديد سعر الاشتراك الشهري

مدة التجربة المجانية (إن وجدت)

سياسة الإيقاف بعد الانتهاء

سجل التجديدات

3.5 المدفوعات

كل عمليات الدفع

حالات الفشل

تأكيد دفع يدوي (إذا الدفع مو إلكتروني)

إيصالات الدفع

3.6 الأجهزة والمزامنة

قائمة الأجهزة لكل مشترك

آخر وقت مزامنة

عدد العمليات المعلقة

الأخطاء
إجراءات:

فصل جهاز

حظر جهاز

3.7 الدعم الفني

تذاكر الدعم

ملاحظات الدعم

تغيير حالة التذكرة

3.8 إعدادات المنصة

اسم التطبيق

رقم دعم/واتساب

نصوص عامة

إعدادات OTP/Google

شروط الاستخدام (اختياري)

4) قواعد لمنع الخلط نهائياً

لا يوجد أي صفحة ويب للمشترك.

أي بيانات (Products/Invoices/Customers…) لا تظهر في لوحة الأدمن إلا إذا فعلت “وضع دعم خاص” وبصلاحية + تسجيل.

كل طلبات API تتحقق من:

هوية المشترك

اشتراكه فعّال

الأدمن لا يعدّل بيانات محلات الناس إلا بصلاحية عالية ولغرض دعم فقط.

5) خطة تنفيذ مرتبة (سريعة)
المرحلة 1: API + Mobile MVP

Auth + Subscription check

Products / Customers

POS / Invoices

Installments (الدفع الذكي)

Cashbox

Sync

المرحلة 2: Admin Web

إدارة المشتركين

إدارة الاشتراكات (سعر واحد)

المدفوعات

الأجهزة والمزامنة

الدعم

المرحلة 3: توسعات

إشعارات عامة

نسخ احتياطي/استرجاع

Audit logs كامل